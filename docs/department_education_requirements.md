# YNU 経済学部 学部教育科目 判定ロジック

## 概要

横浜国立大学経済学部の学部教育科目要件（2023 年度以降）に基づく単位チェッカーの判定ロジックを定義する。

## 学部教育科目要件

### 基本要件

- **学部教育科目**: 90 単位（卒業要件 124 単位の一部）
- **全学教育科目**: 34 単位（別途定義）
- **合計**: 124 単位

### カテゴリ別要件

| カテゴリ                 | 必要単位数  | 備考                               |
| ------------------------ | ----------- | ---------------------------------- |
| 専門基礎科目             | 8 単位      | 基礎演習 2 単位を含む必要がある    |
| 専門基幹科目             | 20 単位     | -                                  |
| 専門応用科目 Ⅱ           | 12 単位     | -                                  |
| 専門応用科目 Ⅱ（主分野） | 8 単位      | 5 分野から 1 つ選択                |
| 専門応用科目 Ⅱ（副分野） | 4 単位      | 主分野以外から 1 つ選択            |
| 学部教育科目その他       | 50 単位     | -                                  |
| **合計**                 | **90 単位** | **※専門応用科目 Ⅱ は合計 12 単位** |

### 専門応用科目 Ⅱ 分野一覧

1. **グローバル経済**
2. **現代日本経済**
3. **金融貿易分析**
4. **経済数量分析**
5. **法と経済社会**

### 特殊要件

- **基礎演習**: 2 単位必修（専門基礎科目 8 単位の内数として）
- **主分野**: いずれかの一分野から 8 単位
- **副分野**: 主分野以外の分野から 4 単位
- **重要**: 専門応用科目 Ⅱ の合計は 12 単位（主分野 8 単位 + 副分野 4 単位）

## 判定ロジック

### 1. 余剰単位の振替方式

#### 基本原則

- 各カテゴリで要件を超えて取得した単位は「学部教育科目その他」に自動振替
- 振替後の合計で「その他科目 50 単位」要件を判定

#### 計算手順

```
1. 各カテゴリの余剰単位を計算
   - 専門基礎科目余剰 = max(0, 取得単位 - 8)
   - 専門基幹科目余剰 = max(0, 取得単位 - 20)
   - 専門応用科目Ⅱ余剰 = max(0, 取得単位 - 12)

2. 専門応用科目Ⅱの内訳判定
   - 主分野単位数 >= 8
   - 副分野単位数 >= 4
   - 主分野 + 副分野の合計 >= 12
   - 余剰分 = max(0, 主分野単位数 + 副分野単位数 - 12)

3. その他科目の合計を計算
   その他科目合計 = 直接入力分 + 全余剰単位

4. 要件判定
   - 各カテゴリ: 取得単位 >= 必要単位
   - その他科目: その他科目合計 >= 50
   - 基礎演習: 履修済み かつ 単位数 >= 2（独立して判定）
```

### 2. 判定例

#### 入力例（実際の成績表ベース）

```
専門基礎科目: 10単位
基礎演習: ☑ 履修済み（専門基礎科目に含まれる）
専門基幹科目: 24単位
専門応用科目Ⅱ:
  - 主分野: 10単位
  - 副分野: 6単位
  - その他の分野: 2単位
  - 合計: 18単位
学部教育科目その他: 20単位（直接入力分）
```

#### 計算過程

```
余剰単位:
- 専門基礎科目: 10 - 8 = 2単位
- 専門基幹科目: 24 - 20 = 4単位
- 専門応用科目Ⅱ: 18 - 12 = 6単位

その他科目合計:
20 (直接入力) + 2 + 4 + 6 = 32単位
※基礎演習2単位は専門基礎科目10単位に既に含まれているため加算しない
```

#### 判定結果

```
✅ 専門基礎科目: 10/8単位 (2単位余剰)
✅ 基礎演習: 2/2単位
✅ 専門基幹科目: 24/20単位 (4単位余剰)
✅ 専門応用科目Ⅱ合計: 18/12単位 (6単位余剰)
  ✅ 主分野（グローバル経済）: 10/8単位
  ✅ 副分野（現代日本経済）: 6/4単位
❌ その他科目: 32/50単位 (18単位不足)

総合: 72/90単位 ❌要件不足
必要な対応: その他科目18単位の追加履修
```

## 上限と制約

- **上限**: なし（90 単位以上取得可能）
- **意味**: 90 単位超過分は卒業要件上は無意味
- **他科目への振替**: 学部教育科目の余剰分は全学教育科目等には振替不可
