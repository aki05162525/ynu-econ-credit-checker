# YNU 経済学部 全学教育科目 判定ロジック

## 概要

横浜国立大学経済学部の全学教育科目要件（2023 年度以降）に基づく単位チェッカーの判定ロジックを定義する。

## 全学教育科目要件

### 基本要件

- **全学教育科目**: 34 単位（卒業要件 124 単位の一部）

### カテゴリ別要件

| カテゴリ                 | 必要単位数  | 備考                                        |
| ------------------------ | ----------- | ------------------------------------------- |
| 基礎科目（人文社会系）   | 4 単位      | -                                           |
| 基礎科目（自然科学系）   | 4 単位      | -                                           |
| 外国語科目（英語）       | 8 単位      | -                                           |
| 外国語科目（初修外国語） | 2 単位      | -                                           |
| 全学教育科目その他       | 16 単位     | 高度全学教育指定科目 4 単位を含む必要がある |
| **合計**                 | **34 単位** | -                                           |

### 特殊要件

- **高度全学教育指定科目**: 4 単位必修（全学教育科目その他 16 単位の内数として）
- **重要**: 高度科目の単位は既に他のカテゴリ（人文社会系、自然科学系等）に含まれており、二重カウントしない

## 判定ロジック

### 1. 余剰単位の振替方式

#### 基本原則

- 各カテゴリで要件を超えて取得した単位は「全学教育科目その他」に自動振替
- 振替後の合計で「その他科目 16 単位」要件を判定

#### 計算手順

```
1. 各カテゴリの余剰単位を計算
   - 人文社会系余剰 = max(0, 取得単位 - 4)
   - 自然科学系余剰 = max(0, 取得単位 - 4)
   - 英語科目余剰 = max(0, 取得単位 - 8)
   - 初修外国語余剰 = max(0, 取得単位 - 2)

2. その他科目の合計を計算
   その他科目合計 = 直接入力分 + 全余剰単位
   ※高度科目単位は既に他カテゴリに含まれているため加算しない

3. 要件判定
   - 各カテゴリ: 取得単位 >= 必要単位
   - その他科目: その他科目合計 >= 16
   - 高度科目: 履修済み かつ 単位数 >= 4（独立して判定）
```

### 2. 判定例

#### 入力例（実際の成績表ベース）

```
人文社会系: 6単位
自然科学系: 12単位
英語科目: 8単位
初修外国語: 2単位
その他科目: 0単位（直接入力分）
高度全学教育指定科目: ☑ 2単位履修済み（人文社会系に含まれる）
```

#### 計算過程

```
余剰単位:
- 人文社会系: 6 - 4 = 2単位
- 自然科学系: 12 - 4 = 8単位
- 英語科目: 8 - 8 = 0単位
- 初修外国語: 2 - 2 = 0単位

その他科目合計:
0 (直接入力なし) + 2 + 8 + 0 + 0 = 10単位
※高度科目2単位は人文社会系6単位に既に含まれているため加算しない
```

#### 判定結果

```
✅ 人文社会系: 6/4単位 (2単位余剰)
✅ 自然科学系: 12/4単位 (8単位余剰)
✅ 英語科目: 8/8単位
✅ 初修外国語: 2/2単位
❌ その他科目: 10/16単位 (6単位不足)
❌ 高度科目: 2/4単位 (2単位不足)

総合: 28/34単位 ❌要件不足
必要な対応: その他科目6単位 + 高度科目2単位の追加履修
```

## 上限と制約

- **上限**: なし（34 単位以上取得可能）
- **意味**: 34 単位超過分は卒業要件上は無意味
- **他科目への振替**: 全学教育科目の余剰分は学部教育科目等には振替不可
